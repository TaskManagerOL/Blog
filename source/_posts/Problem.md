---
title: Problem
date: 2024-01-30 20:05:30
tags: ğŸ˜¶â€ğŸŒ«ï¸
categories: éšç¬”
excerpt: è¿™é‡Œæ˜¯ä¸€äº›æˆ‘é‡åˆ°çš„é—®é¢˜é›†åˆ
sticky: 100
---

# Git -> Time out

+ èƒŒæ™¯ï¼š

  ç”¨äºè§£å†³gitä¸Šä¼ Time outçš„æƒ…å†µã€‚
  æ— è®ºæ˜¯ç”¨gitçš„pushè¿˜æ˜¯hexoçš„deployï¼Œç»å¸¸ä¼šå‡ºç°Time outçš„æƒ…å†µã€‚

+ è§£å†³æ–¹æ³•ä¸€ï¼š

  é‡å¯+å¼€å¼€å…³å…³æ¢¯å­+æ›´æ¢ç½‘ç»œ

  > è¿™ä¸ªçš„è¯å®Œå…¨çœ‹ç„å­¦ï¼Œæˆ‘ä¹‹å‰ç»å¸¸å¼€å¼€å…³å…³æ¢¯å­+æ¢ç½‘å°±è§£å†³äº†ï¼Œå¾ˆæŠ½è±¡ã€‚

+ è§£å†³æ–¹æ³•äºŒï¼š

  ```
  git config --global https.proxy //ä½¿ç”¨ä»£ç†
  git config --global --unset https.proxy //å–æ¶ˆä»£ç†
  ```

  > è¿™ä¸ªæˆ‘ç”¨è¿‡å¾ˆå¤šå¾ˆå¤šå¾ˆå¤šå¾ˆå¤šæ¬¡ï¼Œéƒ½æŠŠä»–èƒŒä¸‹æ¥äº†ï¼Œæœ‰æ—¶å€™ç¡®å®æœ‰ç”¨

+ è§£å†³æ–¹æ³•ä¸‰ï¼š

  åœ¨ä¼ TSç¬”è®°çš„æ—¶å€™å®¶é‡Œçš„ç½‘æ­»æ´»ä¼ ä¸ä¸Šå»ï¼Œå°è¯•è¿‡ç½‘ä¸Šæ‰€æœ‰çš„æ–¹æ³•äº†æ•´äº†ä¸€ä¸‹åˆï¼Œå¾ˆæŠ½è±¡çš„æ˜¯å¯ä»¥å»å¤–ç½‘ã€‚

  é‚£ä¸å¦¨ç›´æ¥ç”¨gitè‡ªå·±å†…ç½®çš„update fliesï¼Œå³æ‹–åŠ¨ä¸Šä¼ ã€‚

# TypeScript -> "Could not find a declaration file for module â€˜xxx.jsâ€™. â€˜xxx.jsâ€™ implicitly has an â€˜anyâ€™ type.

+ èƒŒæ™¯ï¼š

  å°è¯•ä½¿ç”¨TSçš„æ—¶å€™å‘¢ï¼Œé‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œåœ¨main.tsä¸­å¼•ç”¨å·²ç»å†™å¥½çš„jsæ–‡ä»¶æ—¶(æ—§ç‰ˆæœ¬å·²ç»å†™å¥½çš„é…ç½®æ–‡ä»¶ï¼Œè¯¦è§blogä¸­çš„vue.config)å‘ç”ŸæŠ¥é”™ï¼Œé”™è¯¯ä»£ç ä¸ºts(7016)ï¼Œä¸€çœ¼tså’ŒåŸç”Ÿèµ·å†²çªäº†ã€‚

+ è§£å†³æ–¹æ³•ä¸€ï¼š

  æˆ‘æ²¡è¯•è¿‡è¿™ä¸ªæ–¹æ³•ï¼Œä½†æ˜¯Vue2çš„å¯ä»¥è¯•è¯•ï¼ˆä¹Ÿè®¸ï¼‰ã€‚

  ```typescript
  //å°†importå¼•å…¥æ”¹ä¸ºrequireå¼•å…¥
  import module from "module.js"
  //æ”¹ä¸º=>
  const module = require('module.js')
  ```

  ä¸ºå•¥æˆ‘æ²¡è¯•è¿‡å‘¢ï¼Œå› ä¸ºåœ¨Vue3ä¸­ï¼Œrequireè¯­æ³•å·²ç»ä¸èƒ½ä½¿ç”¨äº†ï¼Œåœ¨Vue3ç‰ˆæœ¬ä¸­ï¼Œç›´æ¥ä½¿ç”¨ä¸Šè¿°çš„requireè¯­æ³•ä¼šå¯¼è‡´æŠ¥é”™ï¼Œæç¤ºrequireä¸æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚è¿™æ˜¯å› ä¸ºVue3åŠä»¥ä¸Šç‰ˆæœ¬ä½¿ç”¨äº†ES Moduleè¯­æ³•ï¼Œä¸å†æ”¯æŒä½¿ç”¨CommonJSè¯­æ³•æ¥å¼•å…¥æ¨¡å—ã€‚

  > å°çŸ¥è¯†ï¼šrequireå’Œimportçš„æ€§èƒ½æ¯”è¾ƒ
  >
  > `require` çš„æ€§èƒ½ç›¸å¯¹äº `import` ç¨ä½ã€‚
  >
  > å› ä¸º `require` æ˜¯åœ¨è¿è¡Œæ—¶æ‰å¼•å…¥æ¨¡å—å¹¶ä¸”è¿˜èµ‹å€¼ç»™æŸä¸ªå˜é‡ï¼Œè€Œ `import` åªéœ€è¦ä¾æ® `import` ä¸­çš„æ¥å£åœ¨ç¼–è¯‘æ—¶å¼•å…¥æŒ‡å®šæ¨¡å—æ‰€ä»¥æ€§èƒ½ç¨é«˜

+ è§£å†³æ–¹æ³•äºŒï¼š

  ä¹Ÿæ˜¯æˆ‘è‡ªå·±ç¢ç£¨å‡ºæ¥çš„æ–¹æ³•ï¼Œé€‚ç”¨æ€§æ¯”è¾ƒä½å§å¯èƒ½ã€‚

  é—®é¢˜æ—¢ç„¶å‡ºåœ¨ TS å’Œ JS å¯¹æ¥ä¸Šï¼Œé‚£æˆ‘å‘ä¸Šå…¼å®¹ï¼ŒæŠŠ JS æ–‡ä»¶æ›´æ–°æˆ TS çš„ä¸å°±å®Œäº‹äº†ï¼Œåœ¨ä¿®æ”¹å¼•ç”¨çš„æ–‡ä»¶åç¼€å’Œæ–‡ä»¶å†…å®¹åæœç„¶è¿˜æ˜¯ä¸æŠ¥é”™äº†ã€‚

+ è§£å†³æ–¹æ³•ä¸‰ï¼š

  ```typescript
  //å…ˆåœ¨é¡¹ç›®ç›®å½•(ä¹Ÿå°±æ˜¯å’Œä¼—å¤šconfigåŒç›®å½•)ä¸‹åˆ›å»ºä¸€ä¸ªmodules.d.ts
  //modules.d.ts (moduleså¯ä»¥è‡ªå·±å–åå­—)
  declare module '*.js';
  
  //ç„¶ååœ¨ tsconfig.json ä¸­çš„ "include" é…ç½®ä¸‹æ·»åŠ ä¸€ä¸ª "modules.d.ts"
  // tsconfig.json
  "include": ["src/**/*.ts", "src/**/*.tsx", "src/**/*.vue", "module.d.ts"]
  
  //ç„¶ååœ¨ä½ çš„main.tsä¸­ç”¨æ­£å¸¸çš„import xx from 'xx.js' å³å¯
  //main.ts
  import xxx from 'xx.js'
  ```

  æ¨èä½¿ç”¨çš„æ–¹æ³•ï¼Œæ— è®ºæ˜¯ä½ è‡ªå·±çš„Jsæ–‡ä»¶è¿˜æ˜¯å¼•çš„ä¾èµ–åŒ…éƒ½å¯ä»¥ä»è¿™é‡Œå¼•å…¥åˆ°main.tsä¸­ï¼Œå¦‚æœå¼•ä¾èµ–ã€‚

  ```typescript
  //modules.d.ts
  declare module 'ä¾èµ–å';
  
  //main.ts
  import xxx from 'ä¾èµ–å'
  ```




# TypeScript  -> ä»£ç æœªé”™è¯¯ä½†å‡ºç°é”™è¯¯æé†’ï¼ˆç¼–è¾‘å™¨ä¸ºvscodeï¼‰

+ èƒŒæ™¯ï¼š

  åœ¨å†™TSé¡¹ç›®çš„æ—¶å€™å‘ç°å‡ºäº†æŠ¥é”™æç¤ºï¼Œä½†æ˜¯æˆ‘æ˜¯ç›´æ¥ç²˜çš„element-plusçš„ä»£ç ï¼ŒæŠ¥çš„é”™ä¹Ÿå¾ˆå¥‡æ€ªï¼Œç½‘ä¸Šæœä¹Ÿè§£å†³ä¸å½»åº•ï¼Œæœ€æŠ½è±¡çš„æ˜¯é¡¹ç›®èƒ½è·‘ã€‚

>  åé¢æ‰çŸ¥é“æ˜¯å› ä¸ºeslintï¼ˆvscodeæ‰©å±•-ç”¨äºæ£€æŸ¥jsä¹¦å†™é”™è¯¯ï¼‰

â€‹		é‚å»æ‰¾tsæ£€æŸ¥æ‰©å±•ï¼Œå‘ç°æ ¹æœ¬æ‰¾ä¸åˆ°ã€‚

> å¥½åƒç›®å‰å°±æ²¡æœ‰å¥½ç”¨çš„tsè¯­æ³•æ£€æŸ¥æ‰©å±•

+ è§£å†³æ–¹æ³•ä¸€ï¼š

  é¦–å…ˆè¿™ä¸ªæ–¹æ³•æˆ‘æ˜¯è¡Œä¸é€šçš„ï¼Œä½†æ˜¯æˆ‘è§‰å¾—å¯èƒ½æ˜¯æˆ‘æŸä¸ªæ‰©å±•çš„é—®é¢˜ã€‚

  æ‰“å¼€è®¾ç½® -> æœç´¢validate ->ä¸‹é¢æ‰¾åˆ°å¹¶è®¾ç½®ç¦æ­¢typescriptéªŒè¯ -> é‡æ–°å¯åŠ¨ç¼–è¾‘å™¨ã€‚

+ è§£å†³æ–¹æ³•äºŒï¼š

  ç›´æ¥è®©ä»–ä¸æ£€æŸ¥è¯­æ³•é”™è¯¯ã€‚

  ```typescript
  åœ¨scriptæ ‡ç­¾ä¸‹åŠ ä¸Šè¿™è¡Œæ³¨é‡Šã€‚æ³¨æ„ï¼Œæ˜¯æ³¨é‡Šï¼ï¼
  
  // @ts-nocheck
  ```

  è¿™æ ·tsä»£ç å°±ä¸ä¼šæŠ¥é”™äº†ï¼Œä½†ä¹Ÿæ£€æŸ¥ä¸å‡ºæ¥é—®é¢˜äº†ï¼Œè‡³å°‘ä¸éš¾å—äº†çœ‹ç€ã€‚

+ è§£å†³æ–¹æ³•ä¸‰ï¼š

  æ²¡æœ‰ä¸‰äº†ï¼ŒæŒ‰é“ç†æ¥è¯´ç½‘ä¸Šæ˜¯æœ‰æŸç§å…³äºeslinté…ç½®å¯è¡Œçš„ï¼Œä½†æ˜¯æˆ‘é…äº†ä¸¤ä¸ªéƒ½ä¸è¡Œã€‚æˆ‘ä»¥åæ‰¾åˆ°äº†å†æ¥æ›´æ–°å§ğŸ¤•



# IPv4&IPv6 -> "http proxy error"

ä¹‹å‰åœ¨æ‰“ICTçš„æ—¶å€™å°±é‡åˆ°è¿‡ç±»ä¼¼çš„é—®é¢˜ï¼Œå½“æ—¶ä»¥ä¸ºæ˜¯es6çš„fetchå“ªé‡Œæ²¡é…ç½®å¥½ï¼Œåé¢æ¢æˆaxioså°±å¯ä»¥äº†ï¼Œä½†å®é™…ä¸æ˜¯è¿™æ ·ã€‚ä»Šå¤©åœ¨æ‰“æœåˆ›çš„æ—¶å€™åˆé‡åˆ°è¿™ç©æ„äº†ã€‚

+ èƒŒæ™¯

  è·¨åŸŸï¼Œlocalhostä½†æ˜¯ä¸åŒç«¯å£è·¨åŸŸã€‚

  æˆ‘å‰ç«¯configæ–‡ä»¶æ˜æ˜é…ç½®å¾—å¥½å¥½çš„ï¼Œä½†æ˜¯f12æ°¸è¿œæŠ¥æˆ‘æ¥çš„æ˜¯å‰ç«¯è·‘ç€çš„ç«¯å£ï¼Œä»£ç ç¼–è¾‘å™¨ä¸Šæ›´æ˜¯å‡ºä¸€ä¸ªhttp proxy errorï¼Œæˆ‘å°±å¯¹ç€ä¸€ç›´æ”¹å•Šæ”¹å•Šï¼Œå‘ç°ä¸€ç›´è¿˜æ˜¯è¿™ä¸ªæŠ¥é”™ï¼Œåé¢æ‰¾åˆ°æ˜¯åç«¯çš„é—®é¢˜ã€‚

+ è§£å†³æ–¹æ³•ï¼š

  æˆ‘é‡åˆ°çš„é—®é¢˜å®é™…ä¸Šæ˜¯åç«¯å…è®¸çš„ç½‘ç»œåè®®å’Œå‰ç«¯å‘å‡ºæ¥çš„ç½‘ç»œåè®®ä¸åŒï¼Œç”¨çš„pythonåç«¯ï¼Œé‚£è¾¹æ˜¯ç»™çš„ä¸€ä¸ªIPv4æ¥å£ï¼Œå‰ç«¯ç”¨çš„æ˜¯IPv6ï¼Œç»“æœæ¥ä¸ä¸Šï¼Œè§£å†³æ–¹æ³•å°±æ˜¯æ›´æ”¹åç«¯æ¥å£ä½¿ç”¨çš„ç½‘ç»œåè®®ã€‚

  ```python
  #æ­¤å¤„å°±æ”¾åç«¯éƒ¨åˆ†ä»£ç äº†ï¼Œè¯­è¨€æ˜¯python
  if __name__ == '__main__':
      app.run(host = '0.0.0.0',port = 5000)
      #åœ¨æœ¬åœ°çš„ç«¯å£5000è¿è¡Œï¼Œé…ç½®IPv4 IPv6éƒ½å¯ä»¥ä½¿ç”¨ï¼Œä¸ç„¶å‰ç«¯æŠ¥é”™http proxy error
  ```




# Headers -> 400(Bad REQUEST)`æ–‡ä»¶ä¸Šä¼ `

+ èƒŒæ™¯ï¼š

  æ˜¯éœ€è¦ä¸Šä¼ ä¸€ä¸ªæ–‡ä»¶ï¼Œåˆæ˜¯ç»å…¸çš„Postmanå¯ä»¥å‰ç«¯ä¸è¡Œã€‚

+ è§£å†³æ–¹æ³•ï¼š

  æœ€åå‘ç°æ˜¯Headersçš„é—®é¢˜ï¼Œå¤§å®¶éƒ½è¯´ï¼š

  ```typescript
   headers: {
        'Content-Type': 'multipart/form-data'
      }
  ```

  ä¸Šä¼ æ–‡ä»¶è¦è¿™æ ·å­é…ç½®ï¼Œä½†æ˜¯å®é™…ä¸Šæˆ‘æŠŠå®ƒæ•´ä¸ªheadersåˆ äº†åè€ŒæˆåŠŸäº†ï¼ŒåŸå› æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ

  > å‘ç°å»æ‰ Content-Type çš„è¯·æ±‚å¤´éƒ¨å¤šäº†ä¸€ä¸ª boundary ï¼ŒæŸ¥æŸ¥ã€‚
  >
  > **Boundary æ˜¯ä¸€ç§ç”¨äºåˆ†éš”å¤šä¸ªå®ä½“ï¼ˆå¦‚æ–‡ä»¶ã€è¡¨å•å­—æ®µç­‰ï¼‰çš„æ ‡è¯†ç¬¦**ã€‚ å®ƒé€šå¸¸ç”¨äº multipart/form-data ç±»å‹çš„è¯·æ±‚ä¸­ï¼Œç”¨äºå°†å¤šä¸ªéƒ¨åˆ†ç»„åˆåœ¨ä¸€èµ·ï¼Œå¹¶æŒ‡ç¤ºå®ƒä»¬çš„è¾¹ç•Œã€‚

  åŸæ¥`POST`è¯·æ±‚ä¸Šä¼ æ–‡ä»¶çš„æ—¶å€™æ˜¯ä¸éœ€è¦è‡ªå·±è®¾ç½® Content-Typeï¼Œä¼šè‡ªåŠ¨ç»™ä½ æ·»åŠ ä¸€ä¸ª boundary ï¼Œç”¨æ¥åˆ†å‰²æ¶ˆæ¯ä¸»ä½“ä¸­çš„æ¯ä¸ªå­—æ®µï¼Œå¦‚æœè¿™ä¸ªæ—¶å€™è‡ªå·±è®¾ç½®äº† Content-Typeï¼Œ æœåŠ¡å™¨åè€Œä¸çŸ¥é“æ€ä¹ˆåˆ†å‰²å„ä¸ªå­—æ®µã€‚



# Javascript&CSS -> labelç‚¹å‡»äº‹ä»¶é˜»æ­¢

+ èƒŒæ™¯ï¼š

  ä»¥ä¸‹HTMLï¼š

  ```html
  <label>
  	<div @click="console.log(1)"></div>
  </label>
  ```

  æ€ä¹ˆæ‰èƒ½å®ç°ç‚¹å‡»divä½†æ˜¯ä¸è§¦å‘labelçš„ç‚¹å‡»äº‹ä»¶å‘¢ï¼Ÿæˆ‘æ‰¾äº†å¾ˆå¤šæ–¹æ³•CSSçš„è¿˜æœ‰JSçš„éƒ½ä¸å¤ªè¡Œï¼ŒCSSçš„è¯æ˜¯æƒ³hoveråˆ°divä¸Šæ—¶labelçš„ç‚¹å‡»äº‹ä»¶å–æ¶ˆï¼Œä½†æ˜¯åˆä¼šè¿å¸¦åˆ°divé‡Œï¼Œç”¨divåŒ…labelå’ŒdivåŠ absoluteåˆå¾ˆéº»çƒ¦å› ä¸ºè¿˜æœ‰åˆ«çš„éœ€æ±‚ã€‚JSæ˜¯æƒ³ä½¿ç”¨stopPropagationé˜»æ­¢å†’æ³¡ï¼Œä½†æ˜¯labelçš„ç‚¹å‡»äº‹ä»¶ä¸å—å½±å“ã€‚

+ è§£å†³æ–¹æ³•ï¼š

  æ”¹æˆè¿™ä¸ªç»“æ„ï¼š

  ```html
  <div @click="inputFocus">
  	<div @click="stopFocus()"></div>
  </div>
  <input ref="inputRef">
  ```

  ```js
  const inputFocus = () => {
      inputRef.value.click();
  }
  
  const stopFocus = (event) => {
      //ä¸šåŠ¡å‡½æ•°
      ...
      //é˜»æ­¢å†’æ³¡
      window.event.stopPropagation();
  }
  ```

  è¿™æ ·å°±è¡Œäº†divæ˜¯å¯ä»¥ä½¿ç”¨stopPropagationå‡½æ•°çš„ã€‚

  > ä½†æ˜¯ä¸ºä»€ä¹ˆlabelä¸è¡Œå‘¢ï¼Œå…¨ç½‘æŸ¥æ‰¾äº†ä¸€ä¸‹æ²¡æ‰¾åˆ°ã€‚
  >
  > å»MDNçœ‹äº†ä¸€ä¸‹å¯¹äºè¿™ä¸ªæ ‡ç­¾çš„æè¿°ï¼š
  >
  > ä¸è¦åœ¨ `label` å…ƒç´ å†…éƒ¨æ”¾ç½®å¯äº¤äº’çš„å…ƒç´ ï¼Œè¿™æ ·åšä¼šè®©ç”¨æˆ·æ›´éš¾æ¿€æ´»/è§¦å‘ä¸ `label` ç›¸å…³è”çš„è¡¨å•è¾“å…¥å…ƒç´ ã€‚



# HTML&Javascript -> "inputæ ‡ç­¾ä½¿ç”¨"

+ èƒŒæ™¯ï¼š

  éœ€æ±‚æ˜¯ä¸Šä¼ å›¾ç‰‡ã€æ˜¾ç¤ºã€ç‚¹iconåˆ é™¤ã€ç‚¹iconé¢„è§ˆã€‚

  ä½†æ˜¯å¡åœ¨åˆ é™¤ä¸Šé¢äº†ï¼Œæœ‰ä¸€ä¸ªå°bugâ€”â€”æ¯æ¬¡ç‚¹å‡»iconåˆ é™¤åå°±ä¼šæ²¡åŠæ³•ä¸Šä¼ ä¹‹å‰ä¸Šä¼ çš„é‚£ä¸€å¼ å›¾ç‰‡ã€‚

+ è§£å†³æ–¹æ³•ï¼š

  å…¶å®å¾ˆç®€å•åªä¸è¿‡è¯´æˆ‘æŠŠinputæ ‡ç­¾éšè—èµ·æ¥äº†ï¼Œæ¯æ¬¡åˆ é™¤éƒ½æ˜¯æŠŠæ˜¾ç¤ºçš„å›¾ç‰‡åˆ æ‰ï¼ŒåŸæœ¬ä¼ åˆ°inputé‡Œå›¾ç‰‡çš„æ²¡åˆ æ‰ã€‚

  ä½†ä¸ºä»€ä¹ˆè¿˜è¦å†™åˆ°Problemä¸­å‘¢ï¼Ÿ

  å› ä¸ºæˆ‘å‘ç°inputé‡Œå›¾ç‰‡åˆ é™¤ä¹Ÿå¾ˆæœ‰æ„æ€ï¼š

  ```vue
  <template>
  	<input ref="inputRef">
  </template>
  <script>
      const inputRef = ref('')
      //inputRef.value å¯¹åº”çš„æ˜¯ä»–çš„é¡µé¢æ ‡ç­¾
      //inputRef.value.value å¯¹åº”çš„æ˜¯ä»–çš„å›¾ç‰‡(è·¯å¾„)
  </script>
  ```




# Vue -> "addEventListener is not a function"

+ èƒŒæ™¯ï¼š

  åœ¨å¼•ä¸€ä¸ª3d canvasåº“ï¼Œä½†æ˜¯ä¸€ç›´æŠ¥è¿™ä¸ªé”™è¯¯ï¼Œåé¢æ‰¾åˆ°æ˜¯vueçš„refé—®é¢˜ï¼Œå…¶å®æŠ¥è¿™ä¸ªé”™è¯¯æ˜¯å› ä¸ºä¸€ç›´éƒ½è·å–ä¸åˆ°æ ‡ç­¾ã€‚

+ è§£å†³æ–¹æ³•ï¼š

  æ·»åŠ onMountedå‡½æ•°ï¼Œæ˜¯è¿™æ ·çš„ï¼š

  + Vue ä¼šé¦–å…ˆè§£æå’Œæ‰§è¡Œç»„ä»¶ä¸­çš„ `<script>` éƒ¨åˆ†ï¼Œè¿™åŒ…æ‹¬å“åº”å¼æ•°æ®ã€è®¡ç®—å±æ€§ã€ç›‘å¬å™¨ã€æ–¹æ³•ç­‰çš„å®šä¹‰ã€‚
  + æ¥ç€ä¼šç¼–è¯‘æ¨¡æ¿ï¼Œå°†æ•°æ®ç»‘å®šåˆ°è§†å›¾ä¸­ï¼Œæ¸²æŸ“ç”Ÿæˆçš„ HTMLã€‚è¿™ä¸€æ­¥é€šå¸¸æ˜¯åœ¨`beforeCreate` å’Œ `created` é˜¶æ®µä¸­å®Œæˆï¼Œå› ä¸º Vue éœ€è¦åœ¨æ¸²æŸ“ä¹‹å‰å‡†å¤‡å¥½æ•°æ®ã€è®¡ç®—å±æ€§ç­‰ã€‚
  + `onMounted` ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°æ˜¯åœ¨ Vue 3 ä¸­çš„ Composition API ä¸­ä½¿ç”¨çš„ï¼Œå®ƒåœ¨ç»„ä»¶æŒ‚è½½åˆ° DOM åæ‰§è¡Œã€‚åœ¨ Vue 3 çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œç±»ä¼¼äº `onMounted` çš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ä¼šåœ¨åˆé€‚çš„æ—¶æœºè¢«è°ƒç”¨ã€‚è¿™æ„å‘³ç€å®ƒåœ¨ç»„ä»¶æ¸²æŸ“åæ‰§è¡Œã€‚

  å› ä¸ºå®šä¹‰çš„refåœ¨scriptä¸­è¿˜æœªè®¿é—®åˆ°DOMå…ƒç´ ï¼Œå°±è‡ªç„¶è¿˜ä¸ºç©ºï¼Œä¸ºç©ºçš„è¯åç»­å‡½æ•°å°±æ²¡åŠæ³•æ‰§è¡Œå’¯ã€‚



# MITT -> onAPIä½¿ç”¨é—®é¢˜

+ èƒŒæ™¯ï¼š

  åœ¨å…„å¼Ÿç»„ä»¶ä¸­è°ƒç”¨å…¨å±€äº‹ä»¶æ€»çº¿MITTçš„æ—¶å€™ï¼Œemitå’Œonéƒ½æ˜¯å¯ä»¥ä½¿ç”¨çš„ï¼Œä½†æ˜¯ï¼š

  ```js
  const test = ref()
  event.on('name',(val)=>{
      console.log(val);//å¯ä»¥å¾—åˆ°å€¼
      test.value = val;
      console.log(test.value);//å¯ä»¥å¾—åˆ°å€¼
  })
  console.log(test.value);//ä¸å¯ä»¥å¾—åˆ°å€¼
  ```

  è¿™å°±å¾ˆæŠ½è±¡äº†ï¼Œé‚£æˆ‘è°ƒç”¨onçš„æ„ä¹‰ä¸ä¹…å®Œå…¨å¤±å»äº†å˜›ã€‚

  ç»è¿‡å°è¯•ref -> reactiveã€ç”Ÿå‘½å‘¨æœŸç­‰ç­‰éƒ½æ²¡ç”¨ã€‚

  è®¨è®ºäº†ä¸€ä¸‹èƒ½çœ‹å‡ºæ˜¯æ¸²æŸ“é¡ºåºé—®é¢˜æˆ–è€…æ·±æ‹·è´é—®é¢˜ï¼Œä½†æ˜¯å°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆè§£å†³ã€‚

+ è§£å†³æ–¹æ³•ä¸€ï¼š

  æœ€åŸå§‹çš„æ–¹æ³•å°±æ˜¯å­˜åˆ°localstorageé‡Œé¢ğŸ¤£ã€‚

+ è§£å†³æ–¹æ³•äºŒï¼š

  æ¢ç”¨pinia VueçŠ¶æ€ç®¡ç†åº“ã€‚

+ è§£å†³æ–¹æ³•ä¸‰ï¼š

  å…ˆç”¨emitä¼ åˆ°çˆ¶ç»„ä»¶ä¸­ï¼Œç„¶åå†ç”¨definepropsä¼ åˆ°ç›®çš„ç»„ä»¶ä¸­ã€‚



# HTML&CSS -> fixedçŠ¶æ€ç›’å­æ¶ˆå¤±

+ èƒŒæ™¯ï¼š

  Headerç›’å­åŠ äº†ä¸€ä¸ªfixedæ ·å¼ï¼Œä½†æ˜¯ä¸è§äº†ã€‚

+ è§£å†³æ–¹æ³•ï¼š

  åŠ ä¸€ä¸‹z-indexã€‚



# Pack -> æ‰“åŒ…çš„æ—¶å€™index.htmlæ— æ³•æ‰“å¼€

+ èƒŒæ™¯ï¼š

  éœ€è¦æŠŠå†™å¥½çš„æ–‡ä»¶ç»™é˜Ÿå‹è°ƒè¯•ï¼Œä½†æ˜¯å‘ç°index.htmlæ— æ³•æ‰“å¼€ã€‚

+ è§£å†³æ–¹æ³•ï¼š

  åœ¨vite.config.jsä¸‹ï¼š

  ```js
  //æ·»åŠ å¦‚ä¸‹ä»£ç 
  export default defineConfig({
    plugins: [vue()],
    base:'./'
  })
  ```

  ç„¶åindex.htmlä¸è¦ç›´æ¥æ‰“å¼€ï¼Œä¼šæœ‰è·¨åŸŸé—®é¢˜ï¼Œä½¿ç”¨vscode çš„`Live Server`æ’ä»¶æ‰“å¼€ã€‚

# CSS -> é«˜åº¦éå›ºå®šé€ æˆçš„æ ·å¼é”™è¯¯

+ èƒŒæ™¯ï¼š

  æ¯”å¦‚ä¸€ä¸ªforå¾ªç¯æ¸²æŸ“divï¼Œç„¶åé€ æˆçš„é«˜åº¦æ¯”é¢„è®¾å€¼å¤šï¼Œé‚£å°±ä¼šå¤šå‡ºæ¥ä¸€äº›ç™½è‰²çš„ã€‚

+ è§£å†³æ–¹æ³•ï¼š

  å¯ä»¥åŒ…ä¸¤å±‚divï¼Œå¤–å±‚heightautoï¼Œå†…å±‚height100vhï¼Œç„¶ååœ¨å†™ã€‚

# æ–‡ä»¶ä¼ è¾“ -> å‘é€æ–‡ä»¶æœåŠ¡å™¨æŠ¥500

+ èƒŒæ™¯ï¼š

  åœ¨æ‰“æ¯”èµ›çš„æ—¶å€™å‘é€ä¸ºJSONæ ¼å¼çš„æ–‡ä»¶ä¸è¡Œï¼ŒæœåŠ¡å™¨æŠ¥500ï¼ŒPostmanä¹Ÿä¸è¡Œ

+ è§£å†³æ–¹æ³•ï¼š

  JSONçš„keyè®¾ç½®ä¸ºfilesã€‚


# æœåŠ¡å™¨æ­å»º -> å¦‚ä½•å¿«é€Ÿå¼€å§‹æ­å»ºä¸€ä¸ªæœåŠ¡å™¨

è¿˜ä¸æ˜¯å¾ˆç†Ÿæ‚‰æœåŠ¡å™¨ç›¸å…³çš„æ“ä½œï¼Œæ‰€ä»¥å†™ä¸€ä¸‹æ‹¿åˆ°ä¸€ä¸ªæ–°çš„æœåŠ¡å™¨ç›¸å…³çš„æ“ä½œã€‚

å…ˆè¿›rootï¼Œæ‹¿åˆ°æœ€é«˜æƒé™ã€‚

```shell
sudo passwd root
```

è¾“å…¥ä¸¤æ¬¡å¯†ç ï¼ˆå¯†ç æ˜¯çœ‹ä¸åˆ°çš„ï¼Œä½†æ˜¯å…¶å®å·²ç»è¾“å…¥äº†ï¼‰

```shell
su
```

å†è¾“å…¥ä¸¤æ¬¡å¯†ç ã€‚

ä¸‹è½½apt-getï¼š

```shell
sudo apt-get install ssh
```

ä¸‹è½½nginxï¼ŒåŒæ—¶æ£€æŸ¥nginxç‰ˆæœ¬ä»¥åŠå¯åŠ¨ä¸€ä¸‹nginxï¼š

```shell
apt-get install nginx
nginx -v
service nginx start
```

ä¹‹åè¿›å…¥æµè§ˆå™¨ï¼Œåœ¨Ubuntuç³»ç»Ÿä¸­è¾“å…¥`127.0.0.1`ï¼Œåœ¨å…¶ä»–ç”µè„‘ä¸­è¾“å…¥`è¯¥æœåŠ¡å™¨çš„ipåœ°å€`å³å¯è®¿é—®ã€‚

åœ¨`/var/www/html`ç›®å½•ä¸‹ï¼š

```shell
sudo git clone <repoName>
```

ç„¶åè°ƒæ•´é…ç½®ï¼š

```shell
sudo nano /etc/nginx/sites-enabled/default
```

æŠŠ`server->root`é‡å†™ä¸ºæ–°cloneçš„ç›®å½•ä¸‹ã€‚

é‡æ–°å¯åŠ¨nginxï¼š

```shell
sudo nginx -t
sudo systemctl restart nginx
```



# æœåŠ¡å™¨æ­å»º -> å¦‚ä½•éƒ¨ç½²SSLè¯ä¹¦

ç»è¿‡å¤‡æ¡ˆï¼Œè·å–åˆ°SSLè¯ä¹¦ä¹‹åï¼Œä¸‹è½½åˆ°æœ¬åœ°ã€‚

å…ˆé€šè¿‡sshä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨ï¼š

```shell
ssh root@<ip>
```

ç„¶åä»æœ¬åœ°ä¼ æ–‡ä»¶ï¼Œå°†è¯ä¹¦æ–‡ä»¶ä¼ åˆ°nginxå®‰è£…ç›®å½•ä¸‹ï¼ˆé»˜è®¤/etc/nginxï¼‰ï¼š

```shell
scp -r <ä¸Šä¼ æ–‡ä»¶ç›®å½•åœ°å€> root@<ip>:<æœåŠ¡å™¨å®‰æ”¾åœ°å€>
```

ç„¶åé…ç½®nginxï¼š

```shell
#å°†ç«¯å£è®¾ç½®ä¸º443
sudo nano /etc/nginx/sites-enabled/default

#ä¿®æ”¹é…ç½®
sudo nano /etc/nginx/nginx.conf

#åœ¨httpé—´æ·»åŠ 
server {
     #SSL é»˜è®¤è®¿é—®ç«¯å£å·ä¸º 443
     listen 443 ssl default; 
     #è¯·å¡«å†™ç»‘å®šè¯ä¹¦çš„åŸŸå
     server_name <>; 
     #è¯·å¡«å†™è¯ä¹¦æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„
     ssl_certificate xxx.crt; 
     #è¯·å¡«å†™ç§é’¥æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„
     ssl_certificate_key xxx.key; 
     ssl_session_timeout 5m;
     #è¯·æŒ‰ç…§ä»¥ä¸‹åè®®é…ç½®
     ssl_protocols TLSv1.2 TLSv1.3; 
     #è¯·æŒ‰ç…§ä»¥ä¸‹å¥—ä»¶é…ç½®ï¼Œé…ç½®åŠ å¯†å¥—ä»¶ï¼Œå†™æ³•éµå¾ª openssl æ ‡å‡†ã€‚
     ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE; 
     ssl_prefer_server_ciphers on;
     location / {
         #ç½‘ç«™ä¸»é¡µè·¯å¾„ã€‚æ­¤è·¯å¾„ä»…ä¾›å‚è€ƒï¼Œå…·ä½“è¯·æ‚¨æŒ‰ç…§å®é™…ç›®å½•æ“ä½œã€‚
         #ä¾‹å¦‚ï¼Œæ‚¨çš„ç½‘ç«™ä¸»é¡µåœ¨ Nginx æœåŠ¡å™¨çš„ /etc/www ç›®å½•ä¸‹ï¼Œåˆ™è¯·ä¿®æ”¹ root åé¢çš„ html ä¸º /etc/wwwã€‚
         root html; 
         index  index.html index.htm;
     }
 }
```

å†è¿è¡Œä¸€æ¬¡

```shell
nginx -t
nginx -s reload
```

# CI/CD -> Github Page

github action+page åŒä»“åº“ä¸åŒåˆ†æ”¯é›†æˆéƒ¨ç½²
åœ¨`.github`æ–‡ä»¶ä¸‹æ·»åŠ `workflows`æ·»åŠ `hexo-deploy.yml`

```yml
name: Hexo Deploy

on:
  push:
    branches:
      - main

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v2

    - name: Setup Node
      uses: actions/setup-node@v2
      with:
        node-version: '14'

    - name: Install dependencies
      run: npm install

    - name: Initialize submodules
      run: git submodule init
      
    - name: Update submodules
      run: git submodule update

    - name: Build Hexo
      run: npm run build 

    - name: Deploy to GitHub Pages
      uses: peaceiris/actions-gh-pages@v3
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}
        publish_dir: ./public 
        publish_branch: [ä»“åº“åˆ†æ”¯]
```

ç„¶åå¦‚æœä½¿ç”¨ä¸»é¢˜çš„è¯è¿˜å¾—åœ¨æ ¹ç›®å½•ä¸‹æ·»åŠ ä¸€ä¸ª`.gitmodules`

```
[submodule "themes/typo"]
    path = themes/typo
    url = [ä½¿ç”¨ä¸»é¢˜çš„é“¾æ¥]
```

å¾ˆå¥‡æ€ª å¥½åƒä¸è¡Œ
